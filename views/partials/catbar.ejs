<% const _cats = Array.isArray(cats) ? cats : []; %>
<div style="display:flex;gap:.5rem;flex-wrap:wrap;margin:.6rem 0 0">
  <% _cats.forEach(raw => { 
       const c = String(raw || '').trim();
       if (!c) return; 
       const label = c.charAt(0).toUpperCase() + c.slice(1);
  %>
    <a class="chip" href="<%= base %>?cat=<%= encodeURIComponent(c) %>"><%= label %></a>
  <% }) %>
</div>
