<%
  const _canon = (typeof canonical !== 'undefined' && canonical) ? canonical : (SITE + (req?.originalUrl || ''));
  const _title = (typeof shareTitleText !== 'undefined' && shareTitleText) ? shareTitleText
               : (typeof title !== 'undefined' && title) ? title : 'Share Light';
  const shareUrl = encodeURIComponent(_canon);
  const shareTitle = encodeURIComponent(_title);
%>
<div class="share">
  <button class="chip" data-copy-link>Copy Link</button>
  <a class="chip" href="https://twitter.com/intent/tweet?url=<%=shareUrl%>&text=<%=shareTitle%>" target="_blank" rel="noopener">Twitter/X</a>
  <a class="chip" href="https://www.facebook.com/sharer/sharer.php?u=<%=shareUrl%>" target="_blank" rel="noopener">Facebook</a>
  <a class="chip" href="https://pinterest.com/pin/create/button/?url=<%=shareUrl%>&description=<%=shareTitle%>" target="_blank" rel="noopener">Pinterest</a>
  <a class="chip" href="mailto:?subject=<%=shareTitle%>&body=<%=shareUrl%>">Email</a>
  <a class="chip" href="https://wa.me/?text=<%=shareTitle%>%20<%=shareUrl%>" target="_blank" rel="noopener">WhatsApp</a>
</div>
